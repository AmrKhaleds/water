@extends('acp.layout.app')@section('title')    @lang('back.account_statement') {{$account->client  ?  $account->client->User->name .' ' . '( '.$account->client->company_name .' )' : $account->account_name }} #{{$account->num}}@endsection@section('css')    <link href="{{url('acp/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css')}}" rel="stylesheet" type="text/css" />    <link href="{{url('acp/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css')}}" rel="stylesheet" type="text/css" />    <link href="{{url('acp/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css')}}" rel="stylesheet" type="text/css" />@endsection@section('content')    <div class="row">        <div class="col-12">            <div class="card">                <div class="card-header">                    <div class="card-title">@lang('back.account_statement') {{$account->client  ?  $account->client->User->name .' ' . '( '.$account->client->company_name .' )' : $account->account_name}}                        #{{$account->num}}</div>                </div>                <div class="card-body">                    <div class="table-responsive">                            <table id="datatable-buttons" class="table table-nowrap table-centered mb-0">                                <thead>                                <tr>                                    <th>#</th>                                    <th>@lang('back.registration_number')</th>                                    <th>@lang('back.date')</th>                                    <th>@lang('back.type')</th>                                    <th>@lang('back.bond_no')</th>                                    <th>@lang('back.statement')</th>                                    <th>@lang('back.debtor')</th>                                    <th>@lang('back.creditor')</th>                                    <th>@lang('back.created_by')</th>                                </tr>                                </thead>                                <tbody>                                @php                                    $debtor =0;                                    $creditor =0;                                @endphp                                @foreach($account->daily_move_items->where('account_id',$account->id) as $key => $dailymove)                                    @php                                        $debtor +=$dailymove->debtor;                                        $creditor +=$dailymove->creditor;                                    @endphp                                    <tr account="{{$dailymove->dailymove->id}}" class="account">                                        <th>{{$key+1}}</th>                                        <th>{{$dailymove->dailymove->registration_number}}</th>                                        <th>{{$dailymove->dailymove->date}}</th>                                        <th>{{$dailymove->dailymove->type}}</th>                                        <th>{{$dailymove->dailymove->reference}}</th>                                        <th>{{$dailymove->notes}}</th>                                        <th>{{$dailymove->debtor}}</th>                                        <th>{{$dailymove->creditor}}</th>                                        <th>{{$dailymove->dailymove->created_by_user->name}}</th>                                    </tr>                                @endforeach                                </tbody>                            </table>                            <table class="total_all table table-nowrap table-centered mb-0" rowspan="4" colspan="10" style=" margin-top: 1px; ">                                <tbody>                                <tr class="total_header">                                    <td class="text-center w_max" rowspan="3" colspan="4" style=" background-color: #fffad2; ">                                        <h5> @lang('back.grand_total') </h5>                                    </td>                                    <td class="text-center total_debit"><h5>  @lang('back.sub_total')  @lang('back.debtor') </h5></td>                                    <td class="text-center total_credite"><h5>  @lang('back.sub_total') @lang('back.creditor')  </h5></td>                                </tr>                                <tr class="total_tr" style="text-align: center">                                    <td id="total_debit"><h5> {{$debtor}}</h5></td>                                    <td id="total_credite"><h5> {{$creditor}}</h5></td>                                </tr>                                </tbody>                            </table>                    </div>                </div>                <!-- end card -->            </div> <!-- end col -->        </div>    </div>    <div id="model"></div>@endsection@section('js')    <!-- Required datatable js -->    <script src="{{url('acp/libs/datatables.net/js/jquery.dataTables.min.js')}}"></script>    <script src="{{url('acp/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js')}}"></script>    <!-- Buttons examples -->    <script src="{{url('acp/libs/datatables.net-buttons/js/dataTables.buttons.min.js')}}"></script>    <script src="{{url('acp/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js')}}"></script>    <script src="{{url('acp/libs/jszip/jszip.min.js')}}"></script>    <script src="{{url('acp/libs/pdfmake/build/pdfmake.min.js')}}"></script>    <script src="{{url('acp/libs/pdfmake/build/vfs_fonts.js')}}"></script>    <script src="{{url('acp/libs/datatables.net-buttons/js/buttons.html5.min.js')}}"></script>    <script src="{{url('acp/libs/datatables.net-buttons/js/buttons.print.min.js')}}"></script>    <script src="{{url('acp/libs/datatables.net-buttons/js/buttons.colVis.min.js')}}"></script>    <!-- Responsive examples -->    <script src="{{url('acp/libs/datatables.net-responsive/js/dataTables.responsive.min.js')}}"></script>    <script src="{{url('acp/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js')}}"></script>    <!-- Datatable init js -->    <script src="{{url('acp/js/pages/datatables.init.js')}}"></script>    <script>        $(document).ready(function () {            $(".account").click(function () {                var dailymove = $(this).attr('account') ;                $.ajax({                    type: "GET",                    url: '{{route('account.details')}}/?id=' + dailymove,                    success: function (data) {                        $('#model').empty()                        $('#model').append(data);                        $('.bd-example-modal-lg').modal('show');                    }                });            });        });    </script>@endsection